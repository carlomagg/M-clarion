{
  "version": 3,
  "sources": ["../../node_modules/lockr/dist/index.mjs"],
  "sourcesContent": ["// src/prefix.ts\nvar PREFIX = \"\";\nfunction setPrefix(prefix) {\n  PREFIX = prefix;\n  return PREFIX;\n}\nfunction getPrefixedKey(key, options) {\n  if ((options == null ? void 0 : options.noPrefix) === true) {\n    return key;\n  } else {\n    return `${PREFIX}${key}`;\n  }\n}\nfunction hasPrefix() {\n  return PREFIX.length > 0;\n}\nfunction getPrefix() {\n  return PREFIX;\n}\nvar prefix_default = getPrefix;\n\n// src/set.ts\nfunction set(key, value, options) {\n  var query_key = getPrefixedKey(key, options);\n  try {\n    localStorage.setItem(query_key, JSON.stringify({ data: value }));\n  } catch (e) {\n    if (console) {\n      console.warn(\n        `Lockr didn't successfully save the '{\"${key}\": \"${value}\"}' pair, because the localStorage is full.`\n      );\n    }\n  }\n}\n\n// src/smembers.ts\nfunction smembers(key, options) {\n  const queryKey = getPrefixedKey(key, options);\n  let value;\n  const localValue = localStorage.getItem(queryKey);\n  if (localValue !== null) {\n    value = JSON.parse(localValue);\n  } else {\n    value = null;\n  }\n  return value && value.data ? value.data : [];\n}\n\n// src/sadd.ts\nfunction sadd(key, value, options) {\n  const queryKey = getPrefixedKey(key, options);\n  let json;\n  var values = smembers(key);\n  if (values.indexOf(value) > -1) {\n    return false;\n  }\n  try {\n    values.push(value);\n    json = JSON.stringify({ data: values });\n    localStorage.setItem(queryKey, json);\n  } catch (e) {\n    console.log(e);\n    if (console)\n      console.warn(\n        \"Lockr didn't successfully add the \" + value + \" to \" + key + \" set, because the localStorage is full.\"\n      );\n  }\n  return true;\n}\n\n// src/rm.ts\nfunction rm(key, options) {\n  const queryKey = getPrefixedKey(key, options);\n  return localStorage.removeItem(queryKey);\n}\n\n// src/get.ts\nfunction get(key, missing, options) {\n  const queryKey = getPrefixedKey(key, options);\n  let value;\n  const localValue = localStorage.getItem(queryKey);\n  try {\n    if (localValue !== null) {\n      value = JSON.parse(localValue);\n    }\n  } catch (e) {\n    if (localStorage[queryKey]) {\n      value = { data: localStorage.getItem(queryKey) };\n    } else {\n      value = null;\n    }\n  }\n  if (!value) {\n    return missing;\n  } else if (typeof value === \"object\" && typeof value.data !== \"undefined\") {\n    return value.data;\n  }\n}\n\n// src/keys.ts\nfunction keys() {\n  const prefix = prefix_default();\n  const keys2 = [];\n  const allKeys = Object.keys(localStorage);\n  if (!hasPrefix()) {\n    return allKeys;\n  }\n  allKeys.forEach(function(key) {\n    if (key.indexOf(prefix) !== -1) {\n      keys2.push(key.replace(prefix, \"\"));\n    }\n  });\n  return keys2;\n}\n\n// src/getAll.ts\nfunction getAll(includeKeys) {\n  const keys2 = keys();\n  if (includeKeys) {\n    return keys2.reduce(function(accum, key) {\n      const tempObj = {};\n      tempObj[key] = get(key);\n      accum.push(tempObj);\n      return accum;\n    }, []);\n  }\n  return keys2.map(function(key) {\n    return get(key);\n  });\n}\n\n// src/flush.ts\nfunction flush() {\n  if (hasPrefix()) {\n    keys().forEach((key) => {\n      localStorage.removeItem(getPrefixedKey(key));\n    });\n  } else {\n    localStorage.clear();\n  }\n}\n\n// src/sismember.ts\nfunction sismember(key, value) {\n  return smembers(key).indexOf(value) > -1;\n}\n\n// src/srem.ts\nfunction srem(key, value, options) {\n  const queryKey = getPrefixedKey(key, options);\n  const values = smembers(key, value);\n  const index = values.indexOf(value);\n  if (index > -1) {\n    values.splice(index, 1);\n  }\n  const json = JSON.stringify({ data: values });\n  try {\n    localStorage.setItem(queryKey, json);\n  } catch (e) {\n    if (console)\n      console.warn(\n        \"Lockr couldn't remove the \" + value + \" from the set \" + key\n      );\n  }\n}\nexport {\n  flush,\n  get,\n  getAll,\n  getPrefix,\n  getPrefixedKey,\n  hasPrefix,\n  keys,\n  rm,\n  sadd,\n  set,\n  setPrefix,\n  sismember,\n  smembers,\n  srem\n};\n"],
  "mappings": ";;;AACA,IAAI,SAAS;AACb,SAAS,UAAU,QAAQ;AACzB,WAAS;AACT,SAAO;AACT;AACA,SAAS,eAAe,KAAK,SAAS;AACpC,OAAK,WAAW,OAAO,SAAS,QAAQ,cAAc,MAAM;AAC1D,WAAO;AAAA,EACT,OAAO;AACL,WAAO,GAAG,MAAM,GAAG,GAAG;AAAA,EACxB;AACF;AACA,SAAS,YAAY;AACnB,SAAO,OAAO,SAAS;AACzB;AACA,SAAS,YAAY;AACnB,SAAO;AACT;AACA,IAAI,iBAAiB;AAGrB,SAAS,IAAI,KAAK,OAAO,SAAS;AAChC,MAAI,YAAY,eAAe,KAAK,OAAO;AAC3C,MAAI;AACF,iBAAa,QAAQ,WAAW,KAAK,UAAU,EAAE,MAAM,MAAM,CAAC,CAAC;AAAA,EACjE,SAAS,GAAG;AACV,QAAI,SAAS;AACX,cAAQ;AAAA,QACN,yCAAyC,GAAG,OAAO,KAAK;AAAA,MAC1D;AAAA,IACF;AAAA,EACF;AACF;AAGA,SAAS,SAAS,KAAK,SAAS;AAC9B,QAAM,WAAW,eAAe,KAAK,OAAO;AAC5C,MAAI;AACJ,QAAM,aAAa,aAAa,QAAQ,QAAQ;AAChD,MAAI,eAAe,MAAM;AACvB,YAAQ,KAAK,MAAM,UAAU;AAAA,EAC/B,OAAO;AACL,YAAQ;AAAA,EACV;AACA,SAAO,SAAS,MAAM,OAAO,MAAM,OAAO,CAAC;AAC7C;AAGA,SAAS,KAAK,KAAK,OAAO,SAAS;AACjC,QAAM,WAAW,eAAe,KAAK,OAAO;AAC5C,MAAI;AACJ,MAAI,SAAS,SAAS,GAAG;AACzB,MAAI,OAAO,QAAQ,KAAK,IAAI,IAAI;AAC9B,WAAO;AAAA,EACT;AACA,MAAI;AACF,WAAO,KAAK,KAAK;AACjB,WAAO,KAAK,UAAU,EAAE,MAAM,OAAO,CAAC;AACtC,iBAAa,QAAQ,UAAU,IAAI;AAAA,EACrC,SAAS,GAAG;AACV,YAAQ,IAAI,CAAC;AACb,QAAI;AACF,cAAQ;AAAA,QACN,uCAAuC,QAAQ,SAAS,MAAM;AAAA,MAChE;AAAA,EACJ;AACA,SAAO;AACT;AAGA,SAAS,GAAG,KAAK,SAAS;AACxB,QAAM,WAAW,eAAe,KAAK,OAAO;AAC5C,SAAO,aAAa,WAAW,QAAQ;AACzC;AAGA,SAAS,IAAI,KAAK,SAAS,SAAS;AAClC,QAAM,WAAW,eAAe,KAAK,OAAO;AAC5C,MAAI;AACJ,QAAM,aAAa,aAAa,QAAQ,QAAQ;AAChD,MAAI;AACF,QAAI,eAAe,MAAM;AACvB,cAAQ,KAAK,MAAM,UAAU;AAAA,IAC/B;AAAA,EACF,SAAS,GAAG;AACV,QAAI,aAAa,QAAQ,GAAG;AAC1B,cAAQ,EAAE,MAAM,aAAa,QAAQ,QAAQ,EAAE;AAAA,IACjD,OAAO;AACL,cAAQ;AAAA,IACV;AAAA,EACF;AACA,MAAI,CAAC,OAAO;AACV,WAAO;AAAA,EACT,WAAW,OAAO,UAAU,YAAY,OAAO,MAAM,SAAS,aAAa;AACzE,WAAO,MAAM;AAAA,EACf;AACF;AAGA,SAAS,OAAO;AACd,QAAM,SAAS,eAAe;AAC9B,QAAM,QAAQ,CAAC;AACf,QAAM,UAAU,OAAO,KAAK,YAAY;AACxC,MAAI,CAAC,UAAU,GAAG;AAChB,WAAO;AAAA,EACT;AACA,UAAQ,QAAQ,SAAS,KAAK;AAC5B,QAAI,IAAI,QAAQ,MAAM,MAAM,IAAI;AAC9B,YAAM,KAAK,IAAI,QAAQ,QAAQ,EAAE,CAAC;AAAA,IACpC;AAAA,EACF,CAAC;AACD,SAAO;AACT;AAGA,SAAS,OAAO,aAAa;AAC3B,QAAM,QAAQ,KAAK;AACnB,MAAI,aAAa;AACf,WAAO,MAAM,OAAO,SAAS,OAAO,KAAK;AACvC,YAAM,UAAU,CAAC;AACjB,cAAQ,GAAG,IAAI,IAAI,GAAG;AACtB,YAAM,KAAK,OAAO;AAClB,aAAO;AAAA,IACT,GAAG,CAAC,CAAC;AAAA,EACP;AACA,SAAO,MAAM,IAAI,SAAS,KAAK;AAC7B,WAAO,IAAI,GAAG;AAAA,EAChB,CAAC;AACH;AAGA,SAAS,QAAQ;AACf,MAAI,UAAU,GAAG;AACf,SAAK,EAAE,QAAQ,CAAC,QAAQ;AACtB,mBAAa,WAAW,eAAe,GAAG,CAAC;AAAA,IAC7C,CAAC;AAAA,EACH,OAAO;AACL,iBAAa,MAAM;AAAA,EACrB;AACF;AAGA,SAAS,UAAU,KAAK,OAAO;AAC7B,SAAO,SAAS,GAAG,EAAE,QAAQ,KAAK,IAAI;AACxC;AAGA,SAAS,KAAK,KAAK,OAAO,SAAS;AACjC,QAAM,WAAW,eAAe,KAAK,OAAO;AAC5C,QAAM,SAAS,SAAS,KAAK,KAAK;AAClC,QAAM,QAAQ,OAAO,QAAQ,KAAK;AAClC,MAAI,QAAQ,IAAI;AACd,WAAO,OAAO,OAAO,CAAC;AAAA,EACxB;AACA,QAAM,OAAO,KAAK,UAAU,EAAE,MAAM,OAAO,CAAC;AAC5C,MAAI;AACF,iBAAa,QAAQ,UAAU,IAAI;AAAA,EACrC,SAAS,GAAG;AACV,QAAI;AACF,cAAQ;AAAA,QACN,+BAA+B,QAAQ,mBAAmB;AAAA,MAC5D;AAAA,EACJ;AACF;",
  "names": []
}
